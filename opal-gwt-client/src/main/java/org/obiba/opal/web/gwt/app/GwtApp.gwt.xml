<!DOCTYPE module PUBLIC '//gwt-module/' 'http://google-web-toolkit.googlecode.com/svn/tags/2.0.0/distro-source/core/src/gwt-module.dtd'>
<module rename-to='opal'>

  <!-- Third-party tools and libraries -->
  <!-- Inherit the core Web Toolkit stuff. -->
  <inherits name='com.google.gwt.user.User' />
  <!-- Guava Collections -->
  <inherits name='com.google.common.collect.Collect'/>
  <!-- Sophisticated visualisations -->
  <inherits name='com.google.gwt.visualization.Visualization' />
  <!-- Use an MVP pattern framework -->
  <inherits name='com.google.gwt.place.Place' />
  <inherits name='net.customware.gwt.presenter.Presenter' />
  <inherits name='com.gwtplatform.mvp.Mvp' />
  <!-- GWT Bootstrap -->
  <inherits name='com.google.gwt.user.theme.standard.Standard' />
  <inherits name='com.github.gwtbootstrap.Bootstrap' />
 
  <define-configuration-property name='gin.ginjector' is-multi-valued='false' />
  <set-configuration-property name='gin.ginjector' value='org.obiba.opal.web.gwt.app.client.inject.OpalGinjector' /> 
  
  <!-- Client-side REST framework -->
  <inherits name='org.obiba.opal.web.gwt.rest.Rest' />
  <!-- Opal's WS data models -->
  <inherits name='org.obiba.opal.web.model.Model' />
  
  <!--  Opal css style sheets -->
  <!--stylesheet src='css/bootstrap.min.css'/-->
  <stylesheet src='css/opal.css'/>
  <stylesheet src='css/opal-custom.css'/>

  <!--  for ClientBundle -->
  <inherits name='com.google.gwt.resources.Resources' />
  
  <!-- Opal CellView Module -->
  <inherits name='org.obiba.opal.web.gwt.user.cellview.CellView' />

  <!-- Opal Ploting Module -->
  <inherits name='org.obiba.opal.web.gwt.plot.Plots' />

  <!-- Syntax Highlighting -->
  <inherits name='org.obiba.opal.web.gwt.prettify.Prettify'/>

  <!-- Specify the app entry point class. -->
  <entry-point class='org.obiba.opal.web.gwt.app.client.GwtApp' />
  
  <extend-property name='locale' values='fr'/>
  <extend-property name='locale' values='en'/>
  <set-property-fallback name='locale' value='en'/>

  <!-- Specific impl for IE -->
  <replace-with class='org.obiba.opal.web.gwt.app.client.view.IELoginView'>
    <when-type-assignable class='org.obiba.opal.web.gwt.app.client.view.LoginView' />
    <any>
      <when-property-is name='user.agent' value='ie6' />
      <when-property-is name='user.agent' value='ie8' />
    </any>
  </replace-with>

  <!-- This will limit the compile to a single browser: Firefox 3.x -->
  <!-- set-property name='user.agent' value='gecko1_8' /-->

</module>
